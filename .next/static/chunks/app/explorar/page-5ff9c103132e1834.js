(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[916],{1763:function(e,r,a){Promise.resolve().then(a.bind(a,6328))},6328:function(e,r,a){"use strict";a.r(r),a.d(r,{default:function(){return u}});var t=a(3827),s=a(4090),l=a(7907),n=a(8714),i=a(575),o=a(8009);let c=["Desarrollo","Dise\xf1o","Marketing"],d=["Principiante","Intermedio","Avanzado"];function u(){let e=(0,n.createPagesBrowserClient)(),r=(0,l.useRouter)(),[a,u]=(0,s.useState)([]),[x,g]=(0,s.useState)(!0),[m,h]=(0,s.useState)(""),[p,b]=(0,s.useState)(null),[f,j]=(0,s.useState)(""),[v,y]=(0,s.useState)(""),[N,w]=(0,s.useState)(""),[C,S]=(0,s.useState)(""),[k,P]=(0,s.useState)(1),[E,_]=(0,s.useState)(1),z=async()=>{g(!0);let r=e.from("courses").select("*",{count:"exact"});f&&(r=r.eq("category",f)),v&&(r=r.eq("difficulty",v)),N&&(r=r.gte("price",Number(N))),C&&(r=r.lte("price",Number(C)));let a=(k-1)*9;r=r.range(a,a+9-1);let{data:t,error:s,count:l}=await r;s?h(s.message):(u(t||[]),_(Math.ceil((l||1)/9))),g(!1)};return(0,s.useEffect)(()=>{(async()=>{let{data:{session:r}}=await e.auth.getSession();b(r),z()})()},[f,v,N,C,k]),(0,t.jsx)("main",{className:"min-h-screen bg-gray-50 px-4 py-8",children:(0,t.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold mb-8",children:"Explorar cursos"}),(0,t.jsxs)("div",{className:"bg-white p-6 rounded-2xl shadow mb-8 grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,t.jsxs)("select",{value:f,onChange:e=>j(e.target.value),className:"border border-gray-300 rounded-xl px-4 py-2",children:[(0,t.jsx)("option",{value:"",children:"Todas las categor\xedas"}),c.map(e=>(0,t.jsx)("option",{value:e,children:e},e))]}),(0,t.jsxs)("select",{value:v,onChange:e=>y(e.target.value),className:"border border-gray-300 rounded-xl px-4 py-2",children:[(0,t.jsx)("option",{value:"",children:"Todas las dificultades"}),d.map(e=>(0,t.jsx)("option",{value:e,children:e},e))]}),(0,t.jsx)("input",{type:"number",placeholder:"Precio m\xednimo",value:N,onChange:e=>w(e.target.value),className:"border border-gray-300 rounded-xl px-4 py-2"}),(0,t.jsx)("input",{type:"number",placeholder:"Precio m\xe1ximo",value:C,onChange:e=>S(e.target.value),className:"border border-gray-300 rounded-xl px-4 py-2"})]}),x?(0,t.jsx)("p",{children:"Cargando cursos..."}):m?(0,t.jsxs)("p",{className:"text-red-600",children:["Error: ",m]}):0===a.length?(0,t.jsx)("p",{children:"No se encontraron cursos con esos filtros."}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:a.map(e=>(0,t.jsxs)("div",{className:"bg-white rounded-2xl shadow p-4 flex flex-col hover:shadow-lg transition",children:[(0,t.jsx)("img",{src:e.image,alt:e.title,className:"w-full h-40 object-cover rounded-xl mb-4"}),(0,t.jsx)("h3",{className:"text-xl font-bold mb-1",children:e.title}),(0,t.jsx)("p",{className:"text-gray-600 text-sm mb-2",children:e.description}),(0,t.jsxs)("div",{className:"text-sm text-gray-500 mb-2",children:["Categor\xeda: ",e.category," • Dificultad: ",e.difficulty," • $",e.price]}),(0,t.jsx)(i.z,{onClick:()=>{if(!p){o.ZP.error("Deb\xe9s iniciar sesi\xf3n o registrarte para acceder al curso.");return}r.push("/curso/".concat(e.id))},children:"Ir al curso"})]},e.id))}),(0,t.jsxs)("div",{className:"flex justify-center items-center gap-4",children:[(0,t.jsx)(i.z,{onClick:()=>P(e=>Math.max(e-1,1)),disabled:1===k,variant:"outline",children:"Anterior"}),(0,t.jsxs)("span",{className:"text-sm text-gray-600",children:["P\xe1gina ",k," de ",E]}),(0,t.jsx)(i.z,{onClick:()=>P(e=>Math.min(e+1,E)),disabled:k===E,variant:"outline",children:"Siguiente"})]})]})]})})}},575:function(e,r,a){"use strict";a.d(r,{z:function(){return s}});var t=a(3827);a(4090);let s=e=>{let{children:r,variant:a="default",className:s,...l}=e;return(0,t.jsx)("button",{className:"".concat("px-4 py-2 rounded font-medium transition"," ").concat({default:"bg-indigo-600 text-white hover:bg-indigo-700",outline:"border border-gray-300 text-gray-800 hover:bg-gray-100"}[a]," ").concat(s),...l,children:r})}}},function(e){e.O(0,[51,714,296,971,69,744],function(){return e(e.s=1763)}),_N_E=e.O()}]);